<div class="card">
  <div class="container">
    <p-toast></p-toast>
    <div class="row mb-2">
      <div class="col-9">
        <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a
                routerLink="/bulk-upload/vehicle"
                class="display-6 fs-5 text-decoration-none"
                >Vehicle Management</a
              >
            </li>
            <li
              class="breadcrumb-item active display-6 fs-5"
              aria-current="page"
            >
              {{ editMode ? "Edit" : "Add New" }} Vehicle Details
            </li>
          </ol>
        </nav>
      </div>
    </div>

    <p-stepper orientation="vertical" [linear]="false">
      <p-stepperPanel header="Basic Details">
        <ng-template
          pTemplate="content"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #vehicleRegistrationForm="ngForm" ngNativeValidate>
              <div class="row">
                <div class="col">
                  <div class="field form-group">
                    <label for="vehicleWheeler" class="form-label"
                      >Vehicle Wheeler <span class="text-danger">*</span></label
                    >
                    <select
                      #vehicleWheeler="ngModel"
                      name="vehicleWheeler"
                      id="vehicleWheeler"
                      [(ngModel)]="vehicleDetails.vehicle_Wheeler"
                      class="form-select {{
                        vehicleWheeler.invalid &&
                        (vehicleWheeler.dirty || vehicleWheeler.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select Vehicle Wheeler
                      </option>
                      <option value="4 Wheeler">4 Wheeler</option>
                      <option value="7 Wheeler">7 Wheeler</option>
                      <option value="NA" disabled>NA</option>
                    </select>
                    <p
                      *ngIf="
                        vehicleWheeler.invalid &&
                        (vehicleWheeler.dirty || vehicleWheeler.touched)
                      "
                      class="form-text text-danger"
                    >
                      Vehicle Wheeler is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="registrationNo" class="form-label"
                      >Registration No <span class="text-danger">*</span></label
                    >
                    <input
                      #registrationNo="ngModel"
                      name="registrationNo"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.registration_No"
                      maxlength="15"
                      [disabled]="editMode"
                      required
                    />
                    <p
                      *ngIf="
                        registrationNo.invalid &&
                        (registrationNo.dirty || registrationNo.touched)
                      "
                      class="form-text text-danger"
                    >
                      Registration No is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="registrationDate" class="form-label"
                      >Registration Date
                      <span class="text-danger">*</span></label
                    >
                    <input
                      #registrationDate="ngModel"
                      name="registrationDate"
                      type="date"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.registration_Date"
                      required
                    />
                    <p
                      *ngIf="
                        registrationDate.invalid &&
                        (registrationDate.dirty || registrationDate.touched)
                      "
                      class="form-text text-danger"
                    >
                      Registration Date is required.
                    </p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="chassisNumber" class="form-label"
                      >Chassis Number <span class="text-danger">*</span></label
                    >
                    <input
                      #chassisNumber="ngModel"
                      name="chassisNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.chassis_Number"
                      maxlength="30"
                      required
                    />
                    <p
                      *ngIf="
                        chassisNumber.invalid &&
                        (chassisNumber.dirty || chassisNumber.touched)
                      "
                      class="form-text text-danger"
                    >
                      Chassis Number is required.
                    </p>
                  </div>
                </div>

                <div class="col" *ngIf="!isVehicleDetailsNotAvailable">
                  <div class="form-group">
                    <label for="manufacturer" class="form-label">
                      Manufacturer <span class="text-danger">*</span>
                    </label>
                    <select
                      #manufacturer="ngModel"
                      name="manufacturer"
                      class="form-select"
                      [(ngModel)]="vehicleDetails.manufacturer"
                      (ngModelChange)="loadVehicleMakes()"
                      required
                    >
                      <option value="" disabled>Select Manufacturer</option>
                      <option
                        *ngFor="let manufacturer of vehicleManufacturers"
                        [value]="manufacturer"
                      >
                        {{ manufacturer }}
                      </option>
                    </select>
                    <p
                      *ngIf="
                        manufacturer.invalid &&
                        (manufacturer.dirty || manufacturer.touched)
                      "
                      class="form-text text-danger"
                    >
                      Manufacturer is required.
                    </p>
                  </div>
                </div>

                <div class="col" *ngIf="!isVehicleDetailsNotAvailable">
                  <div class="form-group">
                    <label for="model" class="form-label">
                      Model <span class="text-danger">*</span>
                    </label>
                    <select
                      #model="ngModel"
                      name="model"
                      class="form-select"
                      [(ngModel)]="vehicleDetails.model"
                      required
                    >
                      <option value="" disabled>Select Model</option>
                      <option
                        *ngFor="let model of vehicleModels"
                        [value]="model"
                      >
                        {{ model }}
                      </option>
                    </select>
                    <p
                      *ngIf="model.invalid && (model.dirty || model.touched)"
                      class="form-text text-danger"
                    >
                      Model is required.
                    </p>
                  </div>
                </div>

                <div class="col" *ngIf="isVehicleDetailsNotAvailable">
                  <div class="form-group">
                    <label for="manufacturer" class="form-label"
                      >Manufacturer <span class="text-danger">*</span></label
                    >
                    <input
                      #manufacturer="ngModel"
                      name="manufacturer"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.manufacturer"
                      required
                    />
                    <p
                      *ngIf="
                        manufacturer.invalid &&
                        (manufacturer.dirty || manufacturer.touched)
                      "
                      class="form-text text-danger"
                    >
                      Manufacturer is required.
                    </p>
                  </div>
                </div>

                <div class="col" *ngIf="isVehicleDetailsNotAvailable">
                  <div class="form-group">
                    <label for="model" class="form-label"
                      >Model <span class="text-danger">*</span></label
                    >
                    <input
                      #model="ngModel"
                      name="model"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.model"
                      required
                    />
                    <p
                      *ngIf="model.invalid && (model.dirty || model.touched)"
                      class="form-text text-danger"
                    >
                      Model is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-4">
                  <div class="form-check">
                    <label class="form-label" for="flexCheckDefault">
                      Can't find vehicle make/model?
                    </label>
                    <input
                      #isVehicleDetailsAvailable="ngModel"
                      name="isVehicleDetailsAvailable"
                      id="isVehicleDetailsAvailable"
                      class="form-check-input"
                      [(ngModel)]="isVehicleDetailsNotAvailable"
                      type="checkbox"
                      value="0"
                    />
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="hypothecationBankName" class="form-label"
                      >Hypothecation Bank Name</label
                    >
                    <input
                      #hypothecationBankName="ngModel"
                      name="hypothecationBankName"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.hypothecation_Bank_Name"
                    />
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <label for="hypothecationBranch" class="form-label"
                      >Hypothecation Branch</label
                    >
                    <input
                      #hypothecationBranch="ngModel"
                      name="hypothecationBranch"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.hypothecation_Branch"
                    />
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="engineNumber" class="form-label"
                      >Engine Number <span class="text-danger">*</span></label
                    >
                    <input
                      #engineNumber="ngModel"
                      name="engineNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.engine_Number"
                      required
                    />
                    <p
                      *ngIf="
                        engineNumber.invalid &&
                        (engineNumber.dirty || engineNumber.touched)
                      "
                      class="form-text text-danger"
                    >
                      Engine Number is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="makeYear" class="form-label"
                      >Make Year <span class="text-danger">*</span></label
                    >
                    <input
                      #makeYear="ngModel"
                      name="makeYear"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.make_Year"
                      required
                    />
                    <p
                      *ngIf="
                        makeYear.invalid && (makeYear.dirty || makeYear.touched)
                      "
                      class="form-text text-danger"
                    >
                      Make Year is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="assetNumber" class="form-label"
                      >Asset Number</label
                    >
                    <input
                      #assetNumber="ngModel"
                      name="assetNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.asset_Number"
                    />
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="ownerName" class="form-label"
                      >Owner Name <span class="text-danger">*</span></label
                    >
                    <input
                      #ownerName="ngModel"
                      name="ownerName"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.owner_Name"
                      required
                    />
                    <p
                      *ngIf="
                        ownerName.invalid &&
                        (ownerName.dirty || ownerName.touched)
                      "
                      class="form-text text-danger"
                    >
                      Owner Name is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="vehicleScrapStatus" class="form-label"
                      >Vehicle Scrap Status</label
                    >
                    <select
                      #vehicleScrapStatus="ngModel"
                      name="vehicleScrapStatus"
                      id="vehicleScrapStatus"
                      [(ngModel)]="vehicleDetails.vehicle_Scrap_Status"
                      class="form-select"
                    >
                      <option value="" disabled selected>
                        Select Scrap Status
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group mt-4">
                    <div class="row">
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vehicle_Image"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload Vehicle Image"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vehicleImage')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-12">
                  <div class="form-check">
                    <label class="form-label" for="flexCheckDefault">
                      Vehicle Off Road Status
                    </label>
                    <input
                      #isVehicleOffroad="ngModel"
                      name="isVehicleOffroad"
                      id="isVehicleOffroad"
                      class="form-check-input"
                      [(ngModel)]="is_Vehicle_Offroad"
                      (ngModelChange)="
                        vehicleDetails.is_Vehicle_Offroad = is_Vehicle_Offroad
                          ? 'True'
                          : 'False'
                      "
                      type="checkbox"
                      value="0"
                    />
                  </div>
                </div>
              </div>

              <hr />
              <div class="row">
                <div class="col-4" *ngIf="!is_Vehicle_Offroad">
                  <div class="field form-group">
                    <label for="vehicleSubStatus" class="form-label"
                      >Vehicle Sub Status
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #vehicleSubStatus="ngModel"
                      name="vehicleSubStatus"
                      id="vehicleSubStatus"
                      [(ngModel)]="vehicleDetails.vehicle_Sub_Status"
                      [disabled]="is_Vehicle_Offroad"
                      class="form-select {{
                        vehicleDetails.is_Vehicle_Offroad &&
                        vehicleSubStatus.invalid &&
                        (vehicleSubStatus.dirty || vehicleSubStatus.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                      autofocus
                    >
                      <option value="" disabled selected>
                        Select Vehicle Sub Status
                      </option>
                      <option
                        *ngFor="let entry of onRoadSubStatuses"
                        [value]="entry"
                      >
                        {{ entry }}
                      </option>
                    </select>
                    <p
                      *ngIf="
                        vehicleDetails.is_Vehicle_Offroad &&
                        vehicleSubStatus.invalid &&
                        (vehicleSubStatus.dirty || vehicleSubStatus.touched)
                      "
                      class="form-text text-danger"
                    >
                      Vehicle sub status is required
                    </p>
                  </div>
                </div>

                <div class="col-4" *ngIf="is_Vehicle_Offroad">
                  <div class="field form-group">
                    <label for="offRoadReason" class="form-label"
                      >Off Road Reason <span class="text-danger">*</span></label
                    >
                    <select
                      #offRoadReason="ngModel"
                      name="offRoadReason"
                      id="offRoadReason"
                      [(ngModel)]="vehicleDetails.offroad_Reason"
                      [disabled]="!vehicleDetails.is_Vehicle_Offroad"
                      class="form-select {{
                        vehicleDetails.is_Vehicle_Offroad &&
                        offRoadReason.invalid &&
                        (offRoadReason.dirty || offRoadReason.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                      autofocus
                    >
                      <option value="" disabled selected>
                        Select Off Road Reason
                      </option>
                      <option
                        *ngFor="let entry of offRoadReasons"
                        [value]="entry.reason"
                      >
                        {{ entry.reason }}
                      </option>
                    </select>
                    <p
                      *ngIf="
                        is_Vehicle_Offroad &&
                        offRoadReason.invalid &&
                        (offRoadReason.dirty || offRoadReason.touched)
                      "
                      class="form-text text-danger"
                    >
                      Vehicle Off Road reason is required
                    </p>
                  </div>
                </div>

                <div class="col-4" *ngIf="is_Vehicle_Offroad">
                  <div class="field form-group">
                    <label for="offRoadStatusChangeDate" class="form-label"
                      >Off Road Status Change Date
                      <span class="text-danger">*</span></label
                    >
                    <p-calendar
                      #offRoadStatusChangeDate="ngModel"
                      [(ngModel)]="dates.offRoadStatusChangeDate"
                      (ngModelChange)="convertDateToString(1)"
                      name="offRoadStatusChangeDate"
                      [iconDisplay]="'input'"
                      [showIcon]="true"
                      class="d-flex flex-column {{
                        vehicleDetails.is_Vehicle_Offroad &&
                        offRoadStatusChangeDate.invalid &&
                        (offRoadStatusChangeDate.dirty ||
                          offRoadStatusChangeDate.touched)
                          ? 'ng-invalid ng-dirty'
                          : ''
                      }}"
                      inputId="icondisplay"
                      [disabled]="!vehicleDetails.is_Vehicle_Offroad"
                      [dateFormat]="dateFormat"
                      showButtonBar
                      [minDate]="minDate"
                      [maxDate]="maxDate"
                      required
                    ></p-calendar>
                    <p
                      *ngIf="
                        vehicleDetails.is_Vehicle_Offroad &&
                        offRoadStatusChangeDate.invalid &&
                        (offRoadStatusChangeDate.dirty ||
                          offRoadStatusChangeDate.touched)
                      "
                      class="form-text text-danger"
                    >
                      Vehicle off road status change date is required
                    </p>
                  </div>
                </div>
              </div>
              <div class="d-flex py-4 flex-row-reverse">
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="vehicleRegistrationForm.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Technical Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #technicalDetailsForm="ngForm" ngNativeValidate>
              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="cubicCapacity" class="form-label"
                      >Cubic Capacity (CC)
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #cubicCapacity="ngModel"
                      name="cubicCapacity"
                      id="cubicCapacity"
                      [(ngModel)]="vehicleDetails.cubic_Capacity"
                      class="form-select {{
                        cubicCapacity.invalid &&
                        (cubicCapacity.dirty || cubicCapacity.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select Cubic Capacity
                      </option>
                      <option value="More than 2200 CC">
                        More than 2200 CC
                      </option>
                      <option value="Less than 2200 CC">
                        Less than 2200 CC
                      </option>
                    </select>
                    <p
                      *ngIf="
                        cubicCapacity.invalid &&
                        (cubicCapacity.dirty || cubicCapacity.touched)
                      "
                      class="form-text text-danger"
                    >
                      Cubic Capacity is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="fuelCapacity" class="form-label"
                      >Fuel Capacity (Ltrs)
                      <span class="text-danger">*</span></label
                    >
                    <input
                      #fuelCapacity="ngModel"
                      name="fuelCapacity"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.fuel_Capacity"
                      required
                    />
                    <p
                      *ngIf="
                        fuelCapacity.invalid &&
                        (fuelCapacity.dirty || fuelCapacity.touched)
                      "
                      class="form-text text-danger"
                    >
                      Fuel Capacity is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="bsNorms" class="form-label"
                      >BS Norms <span class="text-danger">*</span></label
                    >
                    <select
                      #bsNorms="ngModel"
                      name="bsNorms"
                      id="bsNorms"
                      [(ngModel)]="vehicleDetails.bs_Norms"
                      class="form-select {{
                        bsNorms.invalid && (bsNorms.dirty || bsNorms.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select BS Norms
                      </option>
                      <option value="BS1">BS1</option>
                      <option value="BS2">BS2</option>
                      <option value="BS3">BS3</option>
                      <option value="BS4">BS4</option>
                      <option value="BS6">BS6</option>
                    </select>
                    <p
                      *ngIf="
                        bsNorms.invalid && (bsNorms.dirty || bsNorms.touched)
                      "
                      class="form-text text-danger"
                    >
                      BS Norms is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="adblueCapacity" class="form-label"
                      >Adblue Capacity (Ltrs)</label
                    >
                    <input
                      #adblueCapacity="ngModel"
                      name="adblueCapacity"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.adblue_Capacity"
                    />
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="groundClearance" class="form-label"
                      >Ground Clearance (mm)
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #groundClearance="ngModel"
                      name="groundClearance"
                      id="groundClearance"
                      [(ngModel)]="vehicleDetails.ground_Clearance"
                      class="form-select {{
                        groundClearance.invalid &&
                        (groundClearance.dirty || groundClearance.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select Ground Clearance
                      </option>
                      <option value="Above 190mm">Above 190mm</option>
                      <option value="Below 190mm">Below 190mm</option>
                    </select>
                    <p
                      *ngIf="
                        groundClearance.invalid &&
                        (groundClearance.dirty || groundClearance.touched)
                      "
                      class="form-text text-danger"
                    >
                      Ground Clearance is required.
                    </p>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="fuelType" class="form-label"
                      >Fuel Type <span class="text-danger">*</span></label
                    >
                    <select
                      #fuelType="ngModel"
                      name="fuelType"
                      id="fuelType"
                      [(ngModel)]="vehicleDetails.fuel_Type"
                      class="form-select {{
                        fuelType.invalid && (fuelType.dirty || fuelType.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select Fuel Type
                      </option>
                      <option value="Diesel">Diesel</option>
                      <option value="Petrol">Petrol</option>
                      <option value="CNG">CNG</option>
                      <option value="Petrol+CNG">Petrol+CNG</option>
                    </select>
                    <p
                      *ngIf="
                        fuelType.invalid && (fuelType.dirty || fuelType.touched)
                      "
                      class="form-text text-danger"
                    >
                      Fuel Type is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="seatingCapacity" class="form-label"
                      >Seating Capacity (Incl Driver)
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #seatingCapacity="ngModel"
                      name="seatingCapacity"
                      id="seatingCapacity"
                      [(ngModel)]="vehicleDetails.seating_Capacity"
                      class="form-select {{
                        seatingCapacity.invalid &&
                        (seatingCapacity.dirty || seatingCapacity.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select Seating Capacity
                      </option>
                      <option value="D+1">D+1</option>
                      <option value="D+2">D+2</option>
                      <option value="D+3">D+3</option>
                      <option value="D+4">D+4</option>
                    </select>
                    <p
                      *ngIf="
                        seatingCapacity.invalid &&
                        (seatingCapacity.dirty || seatingCapacity.touched)
                      "
                      class="form-text text-danger"
                    >
                      Seating Capacity is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="technicalDetailsForm.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Location Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #locationDetailsForm="ngForm" ngNativeValidate>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="zone" class="form-label"
                      >Zone <span class="text-danger">*</span></label
                    >
                    <select
                      #zone="ngModel"
                      name="zone"
                      id="zone"
                      [(ngModel)]="vehicleDetails.zone_Name"
                      (ngModelChange)="loadRegions()"
                      class="form-select {{
                        zone.invalid && (zone.dirty || zone.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                      autofocus
                    >
                      <option value="" disabled selected>Select Zone</option>
                      <option *ngFor="let zone of zones" [value]="zone">
                        {{ zone.toUpperCase() }}
                      </option>
                    </select>
                    <p
                      *ngIf="zone.invalid && (zone.dirty || zone.touched)"
                      class="form-text text-danger"
                    >
                      Zone is required.
                    </p>
                  </div>
                </div>

                <div class="col-4" *ngIf="vehicleDetails.zone_Name">
                  <div class="form-group">
                    <label for="region" class="form-label"
                      >Region <span class="text-danger">*</span></label
                    >
                    <select
                      #region="ngModel"
                      name="region"
                      id="region"
                      [(ngModel)]="vehicleDetails.region_Name"
                      (ngModelChange)="loadBranches()"
                      [disabled]="!vehicleDetails.zone_Name"
                      class="form-select {{
                        region.invalid && (region.dirty || region.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>Select Region</option>
                      <option *ngFor="let region of regions" [value]="region">
                        {{ region.toUpperCase() }}
                      </option>
                    </select>
                    <p
                      *ngIf="region.invalid && (region.dirty || region.touched)"
                      class="form-text text-danger"
                    >
                      Region is required.
                    </p>
                  </div>
                </div>
                <div class="col-4" *ngIf="vehicleDetails.region_Name">
                  <div class="form-group">
                    <label for="branch" class="form-label"
                      >Branch <span class="text-danger">*</span></label
                    >
                    <select
                      #branch="ngModel"
                      name="branch"
                      id="branch"
                      [(ngModel)]="vehicleDetails.branch_Name"
                      (ngModelChange)="loadHubs()"
                      autocomplete="off"
                      [disabled]="!vehicleDetails.region_Name"
                      class="form-select {{
                        branch.invalid && (branch.dirty || branch.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>Select Branch</option>
                      <option *ngFor="let branch of branches" [value]="branch">
                        {{ branch.toUpperCase() }}
                      </option>
                    </select>
                    <p
                      *ngIf="branch.invalid && (branch.dirty || branch.touched)"
                      class="form-text text-danger"
                    >
                      Branch is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-4" *ngIf="vehicleDetails.branch_Name">
                  <div class="form-group">
                    <label for="hub" class="form-label"
                      >Hub <span class="text-danger">*</span></label
                    >
                    <select
                      #hub="ngModel"
                      name="hub"
                      id="hub"
                      [(ngModel)]="vehicleDetails.hub_Name"
                      autocomplete="off"
                      [disabled]="!vehicleDetails.branch_Name"
                      class="form-select {{
                        hub.invalid && (hub.dirty || hub.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>Select Hub</option>
                      <option *ngFor="let hub of hubs" [value]="hub">
                        {{ hub.toUpperCase() }}
                      </option>
                    </select>
                    <p
                      *ngIf="hub.invalid && (hub.dirty || hub.touched)"
                      class="form-text text-danger"
                    >
                      Hub is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="locationDetailsForm.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Security Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #securityDetailsForm="ngForm" ngNativeValidate>
              <div class="row">
                <div class="col-4">
                  <div class="form-group">
                    <label for="inaccessibleFromOutside" class="form-label">
                      Inaccessible From Outside The Van
                      <span class="text-danger">*</span>
                    </label>
                    <select
                      #inaccessibleFromOutside="ngModel"
                      name="inaccessibleFromOutside"
                      id="inaccessibleFromOutside"
                      [(ngModel)]="vehicleDetails.inaccessible_From_Outside"
                      class="form-select {{
                        inaccessibleFromOutside.invalid &&
                        (inaccessibleFromOutside.dirty ||
                          inaccessibleFromOutside.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        inaccessibleFromOutside.invalid &&
                        (inaccessibleFromOutside.dirty ||
                          inaccessibleFromOutside.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="cctv" class="form-label">
                      CCTV <span class="text-danger">*</span>
                    </label>
                    <select
                      #cctv="ngModel"
                      name="cctv"
                      id="cctv"
                      [(ngModel)]="vehicleDetails.cctv"
                      class="form-select {{
                        cctv.invalid && (cctv.dirty || cctv.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="cctv.invalid && (cctv.dirty || cctv.touched)"
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4" *ngIf="vehicleDetails.cctv === 'Yes'">
                  <div class="form-group">
                    <label for="cctvCount" class="form-label"
                      >CCTV Count <span class="text-danger">*</span></label
                    >
                    <input
                      #cctvCount="ngModel"
                      name="cctvCount"
                      type="number"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.cctv_Count"
                      max="4"
                      min="0"
                      class="form-select {{
                        cctvCount.invalid &&
                        (cctvCount.dirty || cctvCount.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    />
                    <p
                      *ngIf="
                        cctvCount.invalid &&
                        (cctvCount.dirty || cctvCount.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="row" *ngIf="vehicleDetails.cctv === 'Yes'">
                  <div class="col-4" *ngIf="vehicleDetails.cctv_Count! > 0">
                    <div class="form-group">
                      <label for="faCode" class="form-label"
                        >FA Code for CCTV 1</label
                      >
                      <input
                        #faCodeCCTV="ngModel"
                        name="faCodeCCTV1"
                        type="text"
                        class="form-control"
                        [(ngModel)]="vehicleDetails.fa_Code_Cctv_1"
                        required
                        placeholder="FA Code 1"
                      />
                    </div>
                  </div>
                  <div class="col-4" *ngIf="vehicleDetails.cctv_Count! > 1">
                    <div class="form-group">
                      <label for="faCode" class="form-label"
                        >FA Code for CCTV 2</label
                      >
                      <input
                        #faCodeCCTV="ngModel"
                        name="faCodeCCTV2"
                        type="text"
                        class="form-control"
                        [(ngModel)]="vehicleDetails.fa_Code_Cctv_2"
                        required
                        placeholder="FA Code 2"
                      />
                    </div>
                  </div>
                  <div class="col-4" *ngIf="vehicleDetails.cctv_Count! > 2">
                    <div class="form-group">
                      <label for="faCode" class="form-label"
                        >FA Code for CCTV 3</label
                      >
                      <input
                        #faCodeCCTV="ngModel"
                        name="faCodeCCTV3"
                        type="text"
                        class="form-control"
                        [(ngModel)]="vehicleDetails.fa_Code_Cctv_3"
                        required
                        placeholder="FA Code 3"
                      />
                    </div>
                  </div>
                  <div class="col-4" *ngIf="vehicleDetails.cctv_Count! > 3">
                    <div class="form-group">
                      <label for="faCode" class="form-label"
                        >FA Code for CCTV 4</label
                      >
                      <input
                        #faCodeCCTV="ngModel"
                        name="faCodeCCTV4"
                        type="text"
                        class="form-control"
                        [(ngModel)]="vehicleDetails.fa_Code_Cctv_4"
                        required
                        placeholder="FA Code 4"
                      />
                    </div>
                  </div>
                </div>

                <div class="col-4" *ngIf="vehicleDetails.cctv === 'Yes'">
                  <div class="form-group">
                    <label for="cctvVendor" class="form-label"
                      >CCTV Vendor <span class="text-danger">*</span></label
                    >
                    <input
                      #cctvVendor="ngModel"
                      name="cctvVendor"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.cctv_Vendor"
                      required
                    />
                    <p
                      *ngIf="
                        vehicleDetails.cctv === 'Yes' &&
                        cctvVendor.invalid &&
                        (cctvVendor.dirty || cctvVendor.touched)
                      "
                      class="form-text text-danger"
                    >
                      CCTV Vendor is required if CCTV is present.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="panicSwitch" class="form-label"
                      >Panic Switch <span class="text-danger">*</span></label
                    >
                    <select
                      #panicSwitch="ngModel"
                      name="panicSwitch"
                      id="panicSwitch"
                      [(ngModel)]="vehicleDetails.panic_Switch"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="0">0</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="4">4</option>
                    </select>
                    <p
                      *ngIf="
                        panicSwitch.invalid &&
                        (panicSwitch.dirty || panicSwitch.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="wireMesh" class="form-label"
                      >Wire Mesh <span class="text-danger">*</span></label
                    >
                    <select
                      #wireMesh="ngModel"
                      name="wireMesh"
                      id="wireMesh"
                      [(ngModel)]="vehicleDetails.wire_Mesh"
                      class="form-select {{
                        wireMesh.invalid && (wireMesh.dirty || wireMesh.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        wireMesh.invalid && (wireMesh.dirty || wireMesh.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="autoDialer" class="form-label"
                      >Auto Dialer <span class="text-danger">*</span></label
                    >
                    <select
                      #autoDialer="ngModel"
                      name="autoDialer"
                      id="autoDialer"
                      [(ngModel)]="vehicleDetails.auto_Dialer"
                      class="form-select {{
                        autoDialer.invalid &&
                        (autoDialer.dirty || autoDialer.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        autoDialer.invalid &&
                        (autoDialer.dirty || autoDialer.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Puncture Kit -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="punctureKit" class="form-label"
                      >Puncture Kit <span class="text-danger">*</span></label
                    >
                    <select
                      #punctureKit="ngModel"
                      name="punctureKit"
                      id="punctureKit"
                      [(ngModel)]="vehicleDetails.puncture_Kit"
                      class="form-select {{
                        punctureKit.invalid &&
                        (punctureKit.dirty || punctureKit.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        punctureKit.invalid &&
                        (punctureKit.dirty || punctureKit.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Electronic/Motorised Siren -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="siren" class="form-label"
                      >Electronic/Motorised Siren
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #siren="ngModel"
                      name="siren"
                      id="siren"
                      [(ngModel)]="vehicleDetails.siren"
                      class="form-select {{
                        siren.invalid && (siren.dirty || siren.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="siren.invalid && (siren.dirty || siren.touched)"
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Emergency Light -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="emergencyLight" class="form-label"
                      >Emergency Light <span class="text-danger">*</span></label
                    >
                    <select
                      #emergencyLight="ngModel"
                      name="emergencyLight"
                      id="emergencyLight"
                      [(ngModel)]="vehicleDetails.emergency_Light"
                      class="form-select {{
                        emergencyLight.invalid &&
                        (emergencyLight.dirty || emergencyLight.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        emergencyLight.invalid &&
                        (emergencyLight.dirty || emergencyLight.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Speed Governor -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="speedGovernor" class="form-label"
                      >Speed Governor <span class="text-danger">*</span></label
                    >
                    <select
                      #speedGovernor="ngModel"
                      name="speedGovernor"
                      id="speedGovernor"
                      [(ngModel)]="vehicleDetails.speed_Governor"
                      class="form-select {{
                        speedGovernor.invalid &&
                        (speedGovernor.dirty || speedGovernor.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        speedGovernor.invalid &&
                        (speedGovernor.dirty || speedGovernor.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="rearEntryToVault" class="form-label">
                      Rear Entry To Vault
                      <span class="text-danger">*</span>
                    </label>
                    <select
                      #rearEntryToVault="ngModel"
                      name="rearEntryToVault"
                      id="rearEntryToVault"
                      [(ngModel)]="vehicleDetails.rear_Entry_To_Vault"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Rear">Rear</option>
                      <option value="Left">Left</option>
                    </select>
                    <p
                      *ngIf="
                        rearEntryToVault.invalid &&
                        (rearEntryToVault.dirty || rearEntryToVault.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="fireExtinguisher" class="form-label"
                      >Fire Extinguisher
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #fireExtinguisher="ngModel"
                      name="fireExtinguisher"
                      id="fireExtinguisher"
                      [(ngModel)]="vehicleDetails.fire_Extinguisher"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        fireExtinguisher.invalid &&
                        (fireExtinguisher.dirty || fireExtinguisher.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div
                  class="col-4"
                  *ngIf="vehicleDetails.fire_Extinguisher === 'Yes'"
                >
                  <div class="form-group">
                    <label for="fireExtinguisherCapacity" class="form-label">
                      Fire Extinguisher Capacity (KG)
                      <span class="text-danger">*</span>
                    </label>
                    <input
                      #fireExtinguisherCapacity="ngModel"
                      name="fireExtinguisherCapacity"
                      type="number"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.fire_Extinguisher_Capacity"
                      required
                    />
                    <p
                      *ngIf="
                        fireExtinguisherCapacity.invalid &&
                        (fireExtinguisherCapacity.dirty ||
                          fireExtinguisherCapacity.touched)
                      "
                      class="form-text text-danger"
                    >
                      Fire Extinguisher Capacity is required if Fire
                      Extinguisher is present.
                    </p>
                  </div>
                </div>

                <div
                  class="col-4"
                  *ngIf="vehicleDetails.fire_Extinguisher === 'Yes'"
                >
                  <div class="form-group">
                    <label for="mhaCompliant" class="form-label"
                      >MHA Compliant <span class="text-danger">*</span></label
                    >
                    <select
                      #mhaCompliant="ngModel"
                      name="mhaCompliant"
                      id="mhaCompliant"
                      [(ngModel)]="vehicleDetails.mha_Compliant"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>Select Option</option>
                      <option value="MHA Compliant">MHA Compliant</option>
                      <option value="Non Compliant">Non Compliant</option>
                    </select>
                    <p
                      *ngIf="
                        mhaCompliant.invalid &&
                        (mhaCompliant.dirty || mhaCompliant.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="gpsDeviceMake" class="form-label"
                      >GPS Device Make <span class="text-danger">*</span></label
                    >
                    <select
                      #gpsDeviceMake="ngModel"
                      name="gpsDeviceMake"
                      id="gpsDeviceMake"
                      [(ngModel)]="vehicleDetails.gps_Device_Make"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Aeries">Aeries</option>
                      <option value="Binary">Binary</option>
                      <option value="No GPS">No GPS</option>
                    </select>
                    <p
                      *ngIf="
                        gpsDeviceMake.invalid &&
                        (gpsDeviceMake.dirty || gpsDeviceMake.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <div
                  class="col-4"
                  *ngIf="vehicleDetails.gps_Device_Make != 'No GPS'"
                >
                  <div class="form-group">
                    <label for="gpsVendor" class="form-label">GPS Vendor</label>
                    <input
                      #gpsVendor="ngModel"
                      name="gpsVendor"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.gps_Vendor"
                    />
                  </div>
                </div>

                <!-- FA Code for GPS -->
                <div
                  class="col-4"
                  *ngIf="
                    vehicleDetails.gps_Device_Make !== 'No GPS' &&
                    vehicleDetails.gps_Device_Make !== ''
                  "
                >
                  <div class="form-group">
                    <label for="faCodeGPS" class="form-label"
                      >FA Code for GPS
                    </label>
                    <input
                      #faCodeGPS="ngModel"
                      name="faCodeGPS"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.fa_Code_Gps"
                    />
                  </div>
                </div>

                <div class="col-4">
                  <div class="form-group">
                    <label for="cassetteProvision" class="form-label"
                      >Cassette Provision
                      <span class="text-danger">*</span></label
                    >
                    <select
                      #cassetteProvision="ngModel"
                      name="cassetteProvision"
                      id="cassetteProvision"
                      [(ngModel)]="vehicleDetails.cassette_Provision"
                      class="form-select"
                      required
                    >
                      <option value="" disabled class="placeholder" selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                  </div>
                </div>

                <!-- Immobilizer -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="immobilizer" class="form-label"
                      >Immobilizer <span class="text-danger">*</span></label
                    >
                    <select
                      #immobilizer="ngModel"
                      name="immobilizer"
                      id="immobilizer"
                      [(ngModel)]="vehicleDetails.immobilizer"
                      class="form-select {{
                        immobilizer.invalid &&
                        (immobilizer.dirty || immobilizer.touched)
                          ? 'is-invalid'
                          : ''
                      }}"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>

                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        immobilizer.invalid &&
                        (immobilizer.dirty || immobilizer.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>
              </div>

              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="securityDetailsForm.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Other Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #otherDetails="ngForm" ngNativeValidate>
              <div class="row">
                <!-- Select Branding -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="branding" class="form-label">
                      Select Branding <span class="text-danger">*</span>
                    </label>
                    <select
                      #branding="ngModel"
                      name="branding"
                      id="branding"
                      [(ngModel)]="vehicleDetails.branding"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        branding.invalid && (branding.dirty || branding.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Select Name Of Branding -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="nameOfBranding" class="form-label">
                      Select Name Of Branding <span class="text-danger">*</span>
                    </label>
                    <select
                      #nameOfBranding="ngModel"
                      name="nameOfBranding"
                      id="nameOfBranding"
                      [(ngModel)]="vehicleDetails.name_Of_Branding"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="CMS">CMS</option>
                      <option value="SIPL">SIPL</option>
                      <option value="Other">Other</option>
                    </select>
                    <p
                      *ngIf="
                        nameOfBranding.invalid &&
                        (nameOfBranding.dirty || nameOfBranding.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Select Vehicle Type -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="vehicleType" class="form-label">
                      Select Vehicle Type <span class="text-danger">*</span>
                    </label>
                    <select
                      #vehicleType="ngModel"
                      name="vehicleType"
                      id="vehicleType"
                      [(ngModel)]="vehicleDetails.vehicle_Type"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select Vehicle Type
                      </option>
                      <option value="Cash Van">Cash Van</option>
                      <option value="Cash Van With AC">Cash Van With AC</option>
                      <option value="Delivery Van">Delivery Van</option>
                      <option value="Mobile ATM">Mobile ATM</option>
                      <option value="Other">Other</option>
                      <option value="Private Vehicle">Private Vehicle</option>
                    </select>
                    <p
                      *ngIf="
                        vehicleType.invalid &&
                        (vehicleType.dirty || vehicleType.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Select Jack And Lever -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="jackAndLever" class="form-label">
                      Select Jack And Lever <span class="text-danger">*</span>
                    </label>
                    <select
                      #jackAndLever="ngModel"
                      name="jackAndLever"
                      id="jackAndLever"
                      [(ngModel)]="vehicleDetails.jack_And_Lever"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        jackAndLever.invalid &&
                        (jackAndLever.dirty || jackAndLever.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Select Safety Triangle -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="safetyTriangle" class="form-label">
                      Select Safety Triangle <span class="text-danger">*</span>
                    </label>
                    <select
                      #safetyTriangle="ngModel"
                      name="safetyTriangle"
                      id="safetyTriangle"
                      [(ngModel)]="vehicleDetails.safety_Triangle"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        safetyTriangle.invalid &&
                        (safetyTriangle.dirty || safetyTriangle.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- DCV/Non DCV -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="dcvNonDcv" class="form-label">
                      DCV/Non DCV <span class="text-danger">*</span>
                    </label>
                    <select
                      #dcvNonDcv="ngModel"
                      name="dcvNonDcv"
                      id="dcvNonDcv"
                      [(ngModel)]="vehicleDetails.dcv_Non_Dcv"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="DCV">DCV</option>
                      <option value="Non DCV">Non DCV</option>
                    </select>
                    <p
                      *ngIf="
                        dcvNonDcv.invalid &&
                        (dcvNonDcv.dirty || dcvNonDcv.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Toolkit -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="toolkit" class="form-label">
                      Toolkit <span class="text-danger">*</span>
                    </label>
                    <select
                      #toolkit="ngModel"
                      name="toolkit"
                      id="toolkit"
                      [(ngModel)]="vehicleDetails.toolkit"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        toolkit.invalid && (toolkit.dirty || toolkit.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- First Aid -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="firstAid" class="form-label">
                      First Aid <span class="text-danger">*</span>
                    </label>
                    <select
                      #firstAid="ngModel"
                      name="firstAid"
                      id="firstAid"
                      [(ngModel)]="vehicleDetails.first_Aid"
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select an option
                      </option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                    <p
                      *ngIf="
                        firstAid.invalid && (firstAid.dirty || firstAid.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Upload RC Document -->
                <div class="col-4">
                  <div class="form-group mt-4">
                    <div class="row">
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.rc_Document"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload RC Document"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('rcDocument')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="otherDetails.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="PetroCard and Fastag Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #petroCardDetails="ngForm" ngNativeValidate>
              <div class="row">
                <!-- PetroCard Number -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="petroCardNumber" class="form-label">
                      PetroCard Number <span class="text-danger">*</span>
                    </label>
                    <input
                      #petroCardNumber="ngModel"
                      name="petroCardNumber"
                      id="petroCardNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.petro_Card_Number"
                      required
                    />
                    <p
                      *ngIf="
                        petroCardNumber.invalid &&
                        (petroCardNumber.dirty || petroCardNumber.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- PetroCard Company Name -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="petroCardCompanyName" class="form-label">
                      PetroCard Company Name <span class="text-danger">*</span>
                    </label>
                    <input
                      #petroCardCompanyName="ngModel"
                      name="petroCardCompanyName"
                      id="petroCardCompanyName"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.petro_Card_Company_Name"
                      required
                    />
                    <p
                      *ngIf="
                        petroCardCompanyName.invalid &&
                        (petroCardCompanyName.dirty ||
                          petroCardCompanyName.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Mobile Linked To PetroCard -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="mobileLinkedToPetroCard" class="form-label">
                      Mobile Linked To PetroCard
                    </label>
                    <input
                      #mobileLinkedToPetroCard="ngModel"
                      name="mobileLinkedToPetroCard"
                      id="mobileLinkedToPetroCard"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.mobile_Linked_To_Petro_Card"
                    />
                  </div>
                </div>

                <!-- PetroCard Holder Name -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="petroCardHolderName" class="form-label">
                      PetroCard Holder Name <span class="text-danger">*</span>
                    </label>
                    <input
                      #petroCardHolderName="ngModel"
                      name="petroCardHolderName"
                      id="petroCardHolderName"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.petro_Card_Holder_Name"
                      required
                    />
                    <p
                      *ngIf="
                        petroCardHolderName.invalid &&
                        (petroCardHolderName.dirty ||
                          petroCardHolderName.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- PetroCard Holder Mobile Number -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="petroCardHolderMobileNumber" class="form-label">
                      PetroCard Holder Mobile Number
                      <span class="text-danger">*</span>
                    </label>
                    <input
                      #petroCardHolderMobileNumber="ngModel"
                      name="petroCardHolderMobileNumber"
                      id="petroCardHolderMobileNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="
                        vehicleDetails.petro_Card_Holder_Mobile_Number
                      "
                      required
                    />
                    <p
                      *ngIf="
                        petroCardHolderMobileNumber.invalid &&
                        (petroCardHolderMobileNumber.dirty ||
                          petroCardHolderMobileNumber.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- PetroCard Holder Employee ID Number -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="petroCardHolderEmployeeID" class="form-label">
                      PetroCard Holder Employee ID
                      <span class="text-danger">*</span>
                    </label>
                    <input
                      #petroCardHolderEmployeeID="ngModel"
                      name="petroCardHolderEmployeeID"
                      id="petroCardHolderEmployeeID"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.petro_Card_Holder_Employee_Id"
                      required
                    />
                    <p
                      *ngIf="
                        petroCardHolderEmployeeID.invalid &&
                        (petroCardHolderEmployeeID.dirty ||
                          petroCardHolderEmployeeID.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- PetroCard Custodian Designation -->
                <div class="col-4">
                  <div class="form-group">
                    <label
                      for="petroCardCustodianDesignation"
                      class="form-label"
                    >
                      PetroCard Custodian Designation
                      <span class="text-danger">*</span>
                    </label>
                    <select
                      #petroCardCustodianDesignation="ngModel"
                      name="petroCardCustodianDesignation"
                      id="petroCardCustodianDesignation"
                      [(ngModel)]="
                        vehicleDetails.petro_Card_Custodian_Designation
                      "
                      class="form-select"
                      required
                    >
                      <option value="" disabled selected>
                        Select Designation
                      </option>
                      <option value="Branch Manager">Branch Manager</option>
                      <option value="Custodian">Custodian</option>
                      <option value="Driver">Driver</option>
                      <option value="Fleet Incharge">Fleet Incharge</option>
                      <option value="NA">NA</option>
                      <option value="Other">Other</option>
                    </select>
                    <p
                      *ngIf="
                        petroCardCustodianDesignation.invalid &&
                        (petroCardCustodianDesignation.dirty ||
                          petroCardCustodianDesignation.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Fastag Company Name -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="fastagCompanyName" class="form-label">
                      Fastag Company Name <span class="text-danger">*</span>
                    </label>
                    <input
                      #fastagCompanyName="ngModel"
                      name="fastagCompanyName"
                      id="fastagCompanyName"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.fastag_Company_Name"
                      required
                    />
                    <p
                      *ngIf="
                        fastagCompanyName.invalid &&
                        (fastagCompanyName.dirty || fastagCompanyName.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>

                <!-- Fastag Serial Number -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="fastagSerialNumber" class="form-label">
                      Fastag Serial Number <span class="text-danger">*</span>
                    </label>
                    <input
                      #fastagSerialNumber="ngModel"
                      name="fastagSerialNumber"
                      id="fastagSerialNumber"
                      type="text"
                      class="form-control"
                      [(ngModel)]="vehicleDetails.fastag_Serial_Number"
                      required
                    />
                    <p
                      *ngIf="
                        fastagSerialNumber.invalid &&
                        (fastagSerialNumber.dirty || fastagSerialNumber.touched)
                      "
                      class="form-text text-danger"
                    >
                      This field is required.
                    </p>
                  </div>
                </div>
              </div>
              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="petroCardDetails.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Battery Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <form #batteryDetails="ngForm" ngNativeValidate>
              <div class="row">
                <!-- Search Battery -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="batterySerialNumber" class="form-label"
                      >Search Battery
                    </label>
                    <p-dropdown
                      #batterySerialNumber="ngModel"
                      name="batterySerialNumber"
                      [options]="batterySerialNumbers"
                      [(ngModel)]="vehicleDetails.battery_Serial_Number"
                      [resetFilterOnHide]="true"
                      [filter]="true"
                      [showClear]="true"
                      (ngModelChange)="loadBatteryDetails()"
                      placeholder="Select Battery Serial Number"
                    >
                    </p-dropdown>
                  </div>
                </div>

                <!-- Make -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="batteryMake" class="form-label">Make</label>
                    <input
                      type="text"
                      class="form-control"
                      id="batteryMake"
                      [(ngModel)]="vehicleDetails.battery_Make"
                      name="batteryMake"
                      disabled
                    />
                  </div>
                </div>

                <!-- Model -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="batteryModel" class="form-label">Model</label>
                    <input
                      type="text"
                      class="form-control"
                      id="batteryModel"
                      [(ngModel)]="vehicleDetails.battery_Model"
                      name="batteryModel"
                      disabled
                    />
                  </div>
                </div>

                <!-- Serial Number -->
                <!-- <div class="col-4">
                  <div class="form-group">
                    <label for="batterySerialNumberDisplay" class="form-label"
                      >Serial Number</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="batterySerialNumberDisplay"
                      [(ngModel)]="vehicleDetails.batterySerialNumberDisplay"
                      name="batterySerialNumberDisplay"
                      disabled
                    />
                  </div>
                </div> -->

                <!-- Invoice Date -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="invoiceDate" class="form-label"
                      >Invoice Date</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="invoiceDate"
                      [(ngModel)]="vehicleDetails.battery_Invoice_Date"
                      name="invoiceDate"
                      disabled
                    />
                  </div>
                </div>

                <!-- Warranty (Months) -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="warranty" class="form-label"
                      >Warranty (Months)</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="warranty"
                      [(ngModel)]="vehicleDetails.battery_Warranty"
                      name="warranty"
                      disabled
                    />
                  </div>
                </div>

                <!-- Vendor Name -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="vendorName" class="form-label"
                      >Vendor Name</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="vendorName"
                      [(ngModel)]="vehicleDetails.battery_Vendor_Name"
                      name="vendorName"
                      disabled
                    />
                  </div>
                </div>

                <!-- Battery Cost -->
                <div class="col-4">
                  <div class="form-group">
                    <label for="batteryCost" class="form-label"
                      >Battery Cost</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="batteryCost"
                      [(ngModel)]="vehicleDetails.battery_Cost"
                      name="batteryCost"
                      disabled
                    />
                  </div>
                </div>

                <div class="col mt-4">
                  <button
                    pButton
                    pRipple
                    icon="pi pi-plus"
                    label="Add Battery"
                    iconPos="left"
                    class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                    rounded="true"
                    (click)="toggleAddBatteryDialog()"
                  ></button>
                </div>
              </div>

              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Next"
                  (onClick)="nextCallback.emit()"
                  [disabled]="batteryDetails.invalid"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Tyre Details">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-nextCallback="nextCallback"
          let-index="index"
        >
          <p-card>
            <p-stepper orientation="vertical" [linear]="false">
              <!-- Tyre 1 -->
              <p-stepperPanel header="Tyre 1 Details">
                <ng-template
                  pTemplate="content"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails1="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1SerialNumber" class="form-label"
                              >Search Tyre 1</label
                            >
                            <p-dropdown
                              #tyre1SerialNumber="ngModel"
                              name="tyre1SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre1_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(1, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre1_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre1_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre1_Manufacturer"
                              name="tyre1Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1Size"
                              [(ngModel)]="vehicleDetails.tyre1_Size"
                              name="tyre1Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1Cost"
                              [(ngModel)]="vehicleDetails.tyre1_Cost"
                              name="tyre1Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1MakeModel"
                              [(ngModel)]="vehicleDetails.tyre1_Make_Model"
                              name="tyre1MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1Type"
                              [(ngModel)]="vehicleDetails.tyre1_Type"
                              name="tyre1Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre1_Fitment_Date"
                              name="tyre1FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre1VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre1VendorName"
                              [(ngModel)]="vehicleDetails.tyre1_Vendor_Name"
                              name="tyre1VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-end">
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails1.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 2 -->
              <p-stepperPanel header="Tyre 2 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails2="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2SerialNumber" class="form-label"
                              >Search Tyre 2</label
                            >
                            <p-dropdown
                              #tyre2SerialNumber="ngModel"
                              name="tyre2SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre2_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(2, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre2_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre2_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre2_Manufacturer"
                              name="tyre2Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2Size"
                              [(ngModel)]="vehicleDetails.tyre2_Size"
                              name="tyre2Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2Cost"
                              [(ngModel)]="vehicleDetails.tyre2_Cost"
                              name="tyre2Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2MakeModel"
                              [(ngModel)]="vehicleDetails.tyre2_Make_Model"
                              name="tyre2MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2Type"
                              [(ngModel)]="vehicleDetails.tyre2_Type"
                              name="tyre2Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre2_Fitment_Date"
                              name="tyre2FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre2VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre2VendorName"
                              [(ngModel)]="vehicleDetails.tyre2_Vendor_Name"
                              name="tyre2VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails2.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 3 -->
              <p-stepperPanel header="Tyre 3 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails3="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3SerialNumber" class="form-label"
                              >Search Tyre 3</label
                            >
                            <p-dropdown
                              #tyre3SerialNumber="ngModel"
                              name="tyre3SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre3_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(3, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre3_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre3_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre3_Manufacturer"
                              name="tyre3Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3Size"
                              [(ngModel)]="vehicleDetails.tyre3_Size"
                              name="tyre3Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3Cost"
                              [(ngModel)]="vehicleDetails.tyre3_Cost"
                              name="tyre3Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3MakeModel"
                              [(ngModel)]="vehicleDetails.tyre3_Make_Model"
                              name="tyre3MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3Type"
                              [(ngModel)]="vehicleDetails.tyre3_Type"
                              name="tyre3Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre3_Fitment_Date"
                              name="tyre3FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre3VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre3VendorName"
                              [(ngModel)]="vehicleDetails.tyre3_Vendor_Name"
                              name="tyre3VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails3.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 4 -->
              <p-stepperPanel header="Tyre 4 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails4="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4SerialNumber" class="form-label"
                              >Search Tyre 4</label
                            >
                            <p-dropdown
                              #tyre4SerialNumber="ngModel"
                              name="tyre4SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre4_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(4, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre4_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre4_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre4_Manufacturer"
                              name="tyre4Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4Size"
                              [(ngModel)]="vehicleDetails.tyre4_Size"
                              name="tyre4Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4Cost"
                              [(ngModel)]="vehicleDetails.tyre4_Cost"
                              name="tyre4Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4MakeModel"
                              [(ngModel)]="vehicleDetails.tyre4_Make_Model"
                              name="tyre4MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4Type"
                              [(ngModel)]="vehicleDetails.tyre4_Type"
                              name="tyre4Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre4_Fitment_Date"
                              name="tyre4FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre4VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre4VendorName"
                              [(ngModel)]="vehicleDetails.tyre4_Vendor_Name"
                              name="tyre4VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails4.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 5 -->
              <p-stepperPanel header="Tyre 5 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails5="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5SerialNumber" class="form-label"
                              >Search Tyre</label
                            >
                            <p-dropdown
                              #tyre5SerialNumber="ngModel"
                              name="tyre5SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre5_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(5, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre5_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre5_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre5_Manufacturer"
                              name="tyre5Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5Size"
                              [(ngModel)]="vehicleDetails.tyre5_Size"
                              name="tyre5Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5Cost"
                              [(ngModel)]="vehicleDetails.tyre5_Cost"
                              name="tyre5Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5MakeModel"
                              [(ngModel)]="vehicleDetails.tyre5_Make_Model"
                              name="tyre5MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5Type"
                              [(ngModel)]="vehicleDetails.tyre5_Type"
                              name="tyre5Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre5_Fitment_Date"
                              name="tyre5FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre5VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre5VendorName"
                              [(ngModel)]="vehicleDetails.tyre5_Vendor_Name"
                              name="tyre5VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails5.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 6 -->
              <p-stepperPanel header="Tyre 6 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails6="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6SerialNumber" class="form-label"
                              >Search Tyre 6</label
                            >
                            <p-dropdown
                              #tyre6SerialNumber="ngModel"
                              name="tyre6SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre6_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(6, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre6_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre6_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre6_Manufacturer"
                              name="tyre6Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6Size"
                              [(ngModel)]="vehicleDetails.tyre6_Size"
                              name="tyre6Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6Cost"
                              [(ngModel)]="vehicleDetails.tyre6_Cost"
                              name="tyre6Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6MakeModel"
                              [(ngModel)]="vehicleDetails.tyre6_Make_Model"
                              name="tyre6MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6Type"
                              [(ngModel)]="vehicleDetails.tyre6_Type"
                              name="tyre6Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre6_Fitment_Date"
                              name="tyre6FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre6VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre6VendorName"
                              [(ngModel)]="vehicleDetails.tyre6_Vendor_Name"
                              name="tyre6VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails6.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Tyre 7 -->
              <p-stepperPanel header="Tyre 7 Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                  let-nextCallback="nextCallback"
                >
                  <p-card>
                    <form #tyreDetails7="ngForm" ngNativeValidate>
                      <div class="row">
                        <!-- Search Tyre -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7SerialNumber" class="form-label"
                              >Search Tyre 7</label
                            >
                            <p-dropdown
                              #tyre7SerialNumber="ngModel"
                              name="tyre7SerialNumber"
                              [options]="getFilteredTyreSerialNumbers()"
                              [(ngModel)]="vehicleDetails.tyre7_Serial_Number"
                              [resetFilterOnHide]="true"
                              [filter]="true"
                              [showClear]="true"
                              (ngModelChange)="
                                onTyreSerialNumberChange(7, $event)
                              "
                              [placeholder]="
                                vehicleDetails.tyre7_Serial_Number == undefined
                                  ? 'Select Tyre Serial Number'
                                  : vehicleDetails.tyre7_Serial_Number
                              "
                            ></p-dropdown>
                          </div>
                        </div>
                        <!-- Tyre Manufacturer -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7Manufacturer" class="form-label"
                              >Tyre Manufacturer</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7Manufacturer"
                              [(ngModel)]="vehicleDetails.tyre7_Manufacturer"
                              name="tyre7Manufacturer"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Size -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7Size" class="form-label"
                              >Tyre Size</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7Size"
                              [(ngModel)]="vehicleDetails.tyre7_Size"
                              name="tyre7Size"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Cost -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7Cost" class="form-label"
                              >Tyre Cost</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7Cost"
                              [(ngModel)]="vehicleDetails.tyre7_Cost"
                              name="tyre7Cost"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Make/Model -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7MakeModel" class="form-label"
                              >Tyre Make/Model</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7MakeModel"
                              [(ngModel)]="vehicleDetails.tyre7_Make_Model"
                              name="tyre7MakeModel"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Type -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7Type" class="form-label"
                              >Tyre Type</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7Type"
                              [(ngModel)]="vehicleDetails.tyre7_Type"
                              name="tyre7Type"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Date of Fitment -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7FitmentDate" class="form-label"
                              >Tyre Date of Fitment</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7FitmentDate"
                              [(ngModel)]="vehicleDetails.tyre7_Fitment_Date"
                              name="tyre7FitmentDate"
                              disabled
                            />
                          </div>
                        </div>
                        <!-- Tyre Vendor Name -->
                        <div class="col-4">
                          <div class="form-group">
                            <label for="tyre7VendorName" class="form-label"
                              >Tyre Vendor Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="tyre7VendorName"
                              [(ngModel)]="vehicleDetails.tyre7_Vendor_Name"
                              name="tyre7VendorName"
                              disabled
                            />
                          </div>
                        </div>
                        <div class="col mt-4">
                          <button
                            pButton
                            pRipple
                            icon="pi pi-plus"
                            label="Add Tyre"
                            iconPos="left"
                            class="p-element p-button-success p-button p-component ng-star-inserted rounded-pill"
                            (click)="toggleAddTyreDialog()"
                          ></button>
                        </div>
                      </div>
                      <div class="d-flex py-4 justify-content-between">
                        <p-button
                          label="Back"
                          (onClick)="prevCallback.emit()"
                          icon="pi pi-arrow-left"
                          iconPos="left"
                        ></p-button>
                        <p-button
                          label="Next"
                          (onClick)="nextCallback.emit()"
                          [disabled]="tyreDetails7.invalid"
                          icon="pi pi-arrow-right"
                          iconPos="right"
                        ></p-button>
                      </div>
                    </form>
                  </p-card>
                </ng-template>
              </p-stepperPanel>

              <!-- Spare Tyre -->
              <p-stepperPanel header="Spare Tyre Details">
                <ng-template
                  pTemplate="content"
                  let-prevCallback="prevCallback"
                >
                  <p-card>
                    <div class="row">
                      <!-- Search Spare Tyre -->
                      <div class="col-5">
                        <div class="form-group">
                          <label for="tyre1SerialNumber" class="form-label"
                            >Select Spare Tyre</label
                          >
                          <p-dropdown
                            #tyre1SerialNumber="ngModel"
                            name="spareTyreSerialNumber"
                            [options]="tyreSerialNumbers"
                            [(ngModel)]="
                              vehicleDetails.spare_tyre_serial_number
                            "
                            [resetFilterOnHide]="true"
                            [filter]="true"
                            [showClear]="true"
                            placeholder="Select Spare Tyre Serial Number"
                          ></p-dropdown>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex py-4 justify-content-between">
                      <p-button
                        label="Back"
                        (onClick)="prevCallback.emit()"
                        icon="pi pi-arrow-left"
                        iconPos="left"
                      ></p-button>
                    </div>
                  </p-card>
                </ng-template>
              </p-stepperPanel>
            </p-stepper>
          </p-card>
          <div class="d-flex py-4 justify-content-between">
            <p-button
              label="Back"
              (onClick)="prevCallback.emit()"
              icon="pi pi-arrow-left"
              iconPos="left"
            />
            <p-button
              label="Next"
              (onClick)="nextCallback.emit()"
              icon="pi pi-arrow-right"
              iconPos="right"
            />
          </div>
        </ng-template>
      </p-stepperPanel>

      <p-stepperPanel header="Vehicle Images">
        <ng-template
          pTemplate="content"
          let-prevCallback="prevCallback"
          let-index="index"
        >
          <p-card>
            <form #vehicleImagesForm="ngForm" ngNativeValidate>
              <div class="row">
                <!-- Vehicle Front -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadVehicleFront" class="form-label"
                          >Vehicle Front</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vehicle_Front"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vehicleFront')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Vehicle Right -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadVehicleRight" class="form-label"
                          >Vehicle Right</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vehicle_Right"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vehicleRight')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Vehicle Rear -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadVehicleRear" class="form-label"
                          >Vehicle Rear</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vehicle_Rear"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vehicleRear')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Vehicle Left -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadVehicleLeft" class="form-label"
                          >Vehicle Left</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vehicle_Left"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vehicleLeft')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Dashboard -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadDashboard" class="form-label"
                          >Dashboard</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.dashboard"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('dashboard')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Front Right Tyre -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadFrontRightTyre" class="form-label"
                          >Front Right Tyre</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.front_Right_Tyre"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('frontRightTyre')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Rear Left Tyre -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadRearLeftTyre" class="form-label"
                          >Rear Left Tyre</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.rear_Left_Tyre"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('rearLeftTyre')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Front Left Tyre -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadFrontLeftTyre" class="form-label"
                          >Front Left Tyre</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.front_Left_Tyre"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('frontLeftTyre')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Rear Right Tyre -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadRearRightTyre" class="form-label"
                          >Rear Right Tyre</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.rear_Right_Tyre"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('rearRightTyre')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Battery with Serial Number -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label
                          for="uploadBatteryWithSerialNumber"
                          class="form-label"
                          >Battery with Serial Number</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.battery_With_Serial_Number"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="
                            toggleUploadDialog('batteryWithSerialNumber')
                          "
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- RC Front Side -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadRCFrontSide" class="form-label"
                          >RC Front Side</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.rc_Front_Side"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('rcFrontSide')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- RC Back Side -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadRCBackSide" class="form-label"
                          >RC Back Side</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.rc_Back_Side"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('rcBackSide')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Fitness Document -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadFitnessDocument" class="form-label"
                          >Fitness Document</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.fitness_Document"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('fitnessDocument')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Vault -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadVault" class="form-label"
                          >Vault</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.vault"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('vault')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Insurance Document -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadInsuranceDocument" class="form-label"
                          >Insurance Document</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.insurance_Document"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('insuranceDocument')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Goods Permit -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadGoodsPermit" class="form-label"
                          >Goods Permit</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.goods_Permit"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('goodsPermit')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- PUC -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadPUC" class="form-label">PUC</label>
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.puc"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('puc')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Chassis Number Plate -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadChassisNumberPlate" class="form-label"
                          >Chassis Number Plate</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.chassis_Number_Plate"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('chassisNumberPlate')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Road Tax Document -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadRoadTaxDocument" class="form-label"
                          >Road Tax Document</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.road_Tax_Document"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('roadTaxDocument')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- National Permit -->
                <div class="col-6">
                  <div class="form-group">
                    <div class="row">
                      <div class="col">
                        <label for="uploadNationalPermit" class="form-label"
                          >National Permit</label
                        >
                      </div>
                      <div class="col">
                        <button
                          *ngIf="!vehicleDetails.national_Permit"
                          pButton
                          pRipple
                          [rounded]="true"
                          icon="pi pi-file-arrow-up"
                          label="Upload"
                          type="button"
                          class="p-button-primary ms-2"
                          (click)="toggleUploadDialog('nationalPermit')"
                        ></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Submit and Back buttons -->
              <div class="d-flex py-4 justify-content-between">
                <p-button
                  label="Back"
                  (onClick)="prevCallback.emit()"
                  icon="pi pi-arrow-left"
                  iconPos="left"
                />
                <p-button
                  label="Submit"
                  (onClick)="submitVehicleDetails()"
                  icon="pi pi-file-check"
                  [disabled]="vehicleImagesForm.invalid"
                  iconPos="right"
                />
              </div>
            </form>
          </p-card>
        </ng-template>
      </p-stepperPanel>
    </p-stepper>
  </div>
</div>

<!-- Add Battery Dialog -->
<form
  *ngIf="showAddBatteryDialog"
  (ngSubmit)="addBattery()"
  #batteryForm="ngForm"
  novalidate
>
  <p-dialog
    header="Add Battery"
    [(visible)]="showAddBatteryDialog"
    [modal]="true"
    [style]="{ width: '550px' }"
    [closable]="true"
    [draggable]="false"
    [resizable]="false"
  >
    <ng-template pTemplate="content">
      <div class="row">
        <!-- Battery Make -->
        <div class="col-6">
          <div class="form-group">
            <label for="batteryMake" class="form-label"
              >Battery Make <span class="text-danger">*</span></label
            >
            <select
              #batteryMake="ngModel"
              class="form-select"
              id="batteryMake"
              [(ngModel)]="newBattery.batteryMake"
              name="batteryMake"
              class="form-select {{
                batteryMake.invalid &&
                (batteryMake.dirty || batteryMake.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              required
            >
              <option value="" disabled selected>Select a Battery Make</option>
              <!-- Default Option -->
              <option *ngFor="let make of batteryMakes" [value]="make">
                {{ make }}
              </option>
            </select>
            <p
              *ngIf="batteryMake.invalid && batteryMake.touched"
              class="text-danger"
            >
              Battery make is required
            </p>
          </div>
        </div>

        <!-- Battery Model -->
        <div class="col-6">
          <div class="form-group">
            <label for="batteryModel" class="form-label">
              Battery Model <span class="text-danger">*</span>
            </label>
            <select
              #batteryModel="ngModel"
              class="form-select {{
                batteryModel.invalid &&
                (batteryModel.dirty || batteryModel.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="batteryModel"
              [(ngModel)]="newBattery.batteryModel"
              name="batteryModel"
              required
            >
              <option value="" disabled selected>Select a Battery Model</option>
              <option *ngFor="let model of batteryModels" [value]="model">
                {{ model }}
              </option>
            </select>
            <p
              *ngIf="batteryModel.invalid && batteryModel.touched"
              class="text-danger"
            >
              Battery model is required
            </p>
          </div>
        </div>

        <!-- Battery Type -->
        <div class="col-6">
          <div class="form-group">
            <label for="batteryType" class="form-label">
              Battery Type <span class="text-danger">*</span>
            </label>
            <select
              #batteryType="ngModel"
              class="form-select {{
                batteryType.invalid &&
                (batteryType.dirty || batteryType.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="batteryType"
              [(ngModel)]="newBattery.batteryType"
              name="batteryType"
              required
            >
              <option value="" disabled selected>Select a Battery Type</option>
              <option *ngFor="let type of batteryTypes" [value]="type">
                {{ type }}
              </option>
            </select>
            <p
              *ngIf="batteryType.invalid && batteryType.touched"
              class="text-danger"
            >
              Battery type is required
            </p>
          </div>
        </div>

        <!-- Battery Voltage -->
        <div class="col-6">
          <div class="form-group">
            <label for="batteryVoltage" class="form-label"
              >Battery Voltage</label
            >
            <input
              type="number"
              class="form-control"
              id="batteryVoltage"
              [(ngModel)]="newBattery.batteryVoltage"
              name="batteryVoltage"
            />
          </div>
        </div>

        <!-- Battery Amp -->
        <div class="col-6">
          <div class="form-group">
            <label for="batteryAmp" class="form-label">Battery Amp</label>
            <input
              type="number"
              class="form-control"
              id="batteryAmp"
              [(ngModel)]="newBattery.batteryAmp"
              name="batteryAmp"
            />
          </div>
        </div>

        <!-- Warranty (Months) -->
        <div class="col-6">
          <div class="form-group">
            <label for="warranty" class="form-label">
              Warranty (Months) <span class="text-danger">*</span>
            </label>
            <input
              #warranty="ngModel"
              type="number"
              class="form-control {{
                warranty.invalid && (warranty.dirty || warranty.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="warranty"
              [(ngModel)]="newBattery.warrantyMonths"
              name="warranty"
              required
            />
            <p *ngIf="warranty.invalid && warranty.touched" class="text-danger">
              Warranty is required
            </p>
          </div>
        </div>

        <!-- Battery Serial Number -->
        <div class="col-6">
          <div class="form-group">
            <label for="batterySerialNumber" class="form-label">
              Battery Serial Number <span class="text-danger">*</span>
            </label>
            <input
              #batterySerialNumber="ngModel"
              type="text"
              class="form-control {{
                isSerialNumberTaken ||
                (batterySerialNumber.invalid &&
                  (batterySerialNumber.dirty || batterySerialNumber.touched))
                  ? 'is-invalid'
                  : ''
              }}"
              id="batterySerialNumber"
              [(ngModel)]="newBattery.batterySerialNumber"
              (ngModelChange)="
                checkBatterySerialNumber(newBattery.batterySerialNumber!)
              "
              name="batterySerialNumber"
              required
            />
            <p
              *ngIf="batterySerialNumber.invalid && batterySerialNumber.touched"
              class="text-danger"
            >
              Battery serial number is required
            </p>
            <p *ngIf="isSerialNumberTaken" class="text-danger">
              This serial number is already in use and cannot be used.
            </p>
          </div>
        </div>

        <!-- Cost -->
        <div class="col-6">
          <div class="form-group">
            <label for="cost" class="form-label">
              Cost <span class="text-danger">*</span>
            </label>
            <div class="input-group">
              <span class="input-group-text"></span>
              <input
                type="number"
                class="form-control {{
                  cost.invalid && (cost.dirty || cost.touched)
                    ? 'is-invalid'
                    : ''
                }}"
                id="cost"
                [(ngModel)]="newBattery.cost"
                name="cost"
                required
                #cost="ngModel"
              />
            </div>
            <p *ngIf="cost.invalid && cost.touched" class="text-danger">
              Cost is required
            </p>
          </div>
        </div>

        <!-- Invoice Date -->
        <div class="col-6">
          <div class="form-group">
            <label for="invoiceDate" class="form-label">
              Invoice Date <span class="text-danger">*</span>
            </label>
            <input
              type="date"
              class="form-control {{
                invoiceDate.invalid &&
                (invoiceDate.dirty || invoiceDate.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="invoiceDate"
              [(ngModel)]="newBattery.invoiceDate"
              name="invoiceDate"
              required
              #invoiceDate="ngModel"
            />
            <p
              *ngIf="invoiceDate.invalid && invoiceDate.touched"
              class="text-danger"
            >
              Invoice date is required
            </p>
          </div>
        </div>

        <!-- Vendor Name -->
        <div class="col-6">
          <div class="form-group">
            <label for="vendorName" class="form-label"
              >Vendor Name <span class="text-danger">*</span></label
            >
            <p-dropdown
              #vendorId="ngModel"
              name="vendorName"
              id="vendorName"
              [options]="vendors"
              appendTo="body"
              optionLabel="name"
              optionValue="id"
              [virtualScroll]="true"
              [virtualScrollItemSize]="30"
              [(ngModel)]="newBattery.vendorId"
              [resetFilterOnHide]="true"
              [filter]="true"
              placeholder="Select Vendor Name"
              required
            >
            </p-dropdown>
            <p *ngIf="vendorId.invalid && vendorId.touched" class="text-danger">
              Vendor name is required
            </p>
          </div>
        </div>

        <!-- Invoice Number -->
        <div class="col-6">
          <div class="form-group">
            <label for="invoiceNumber" class="form-label">
              Invoice Number <span class="text-danger">*</span>
            </label>
            <input
              #invoiceNumber="ngModel"
              type="text"
              class="form-control {{
                invoiceNumber.invalid &&
                (invoiceNumber.dirty || invoiceNumber.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="invoiceNumber"
              [(ngModel)]="newBattery.invoiceNumber"
              name="invoiceNumber"
              required
            />
            <p
              *ngIf="invoiceNumber.invalid && invoiceNumber.touched"
              class="text-danger"
            >
              Invoice number is required
            </p>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="footer">
      <button
        pButton
        pRipple
        type="button"
        label="Cancel"
        icon="pi pi-times"
        class="p-button-text"
        (click)="toggleAddBatteryDialog()"
      ></button>
      <button
        pButton
        [disabled]="batteryForm.invalid || isSerialNumberTaken"
        pRipple
        label="Add Battery"
        icon="pi pi-check-circle"
        iconPos="right"
        class="p-button-text"
        type="submit"
      ></button>
    </ng-template>
  </p-dialog>
</form>

<!-- Add Tyre Dialog -->
<form
  *ngIf="showAddTyreDialog"
  (ngSubmit)="addTyre()"
  #tyreForm="ngForm"
  ngvalidate
>
  <p-dialog
    header="Add Tyre"
    [(visible)]="showAddTyreDialog"
    [modal]="true"
    [style]="{ width: '550px' }"
    [closable]="true"
    [draggable]="false"
    [resizable]="false"
  >
    <ng-template pTemplate="content">
      <div class="row">
        <!-- Tyre Manufacturer -->
        <div class="col-6" *ngIf="!isTyreMakeModelNotAvailable">
          <div class="form-group">
            <label for="tyreManufacturer" class="form-label"
              >Tyre Make <span class="text-danger">*</span></label
            >
            <select
              #tyreManufacturer="ngModel"
              class="form-select {{
                tyreManufacturer.invalid &&
                (tyreManufacturer.dirty || tyreManufacturer.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreManufacturer"
              [(ngModel)]="newTyre.tyreManufacturer"
              (ngModelChange)="loadTyreModels()"
              name="tyreManufacturer"
              required
            >
              <option value="" disabled selected>Select a Tyre Make</option>
              <option
                *ngFor="let manufacturer of tyreManufacturers"
                [value]="manufacturer"
              >
                {{ manufacturer }}
              </option>
            </select>
            <p
              *ngIf="tyreManufacturer.invalid && tyreManufacturer.touched"
              class="text-danger"
            >
              Tyre manufacturer is required
            </p>
          </div>
        </div>

        <div class="col-6" *ngIf="isTyreMakeModelNotAvailable">
          <div class="form-group">
            <label for="tyreManufacturer" class="form-label"
              >Tyre Manufacturer <span class="text-danger">*</span></label
            >
            <input
              #tyreManufacturer="ngModel"
              class="form-control {{
                tyreManufacturer.invalid &&
                (tyreManufacturer.dirty || tyreManufacturer.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreManufacturer"
              [(ngModel)]="newTyre.tyreManufacturer"
              name="tyreManufacturer"
              type="text"
              required
            />
            <p
              *ngIf="
                tyreManufacturer.invalid &&
                (tyreManufacturer.dirty || tyreManufacturer.touched)
              "
              class="text-danger"
            >
              Tyre manufacturer is required
            </p>
          </div>
        </div>

        <!-- Tyre Model -->
        <div class="col-6" *ngIf="!isTyreMakeModelNotAvailable">
          <div class="form-group">
            <label for="tyreModel" class="form-label">
              Tyre Model <span class="text-danger">*</span>
            </label>
            <select
              #tyreModel="ngModel"
              class="form-select {{
                tyreModel.invalid && (tyreModel.dirty || tyreModel.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreModel"
              [(ngModel)]="newTyre.tyreModel"
              name="tyreModel"
              [disabled]="!newTyre.tyreManufacturer"
              required
            >
              <option value="" disabled selected>Select a Tyre Model</option>
              <option *ngFor="let model of tyreModels" [value]="model">
                {{ model }}
              </option>
            </select>
            <p
              *ngIf="tyreModel.invalid && tyreModel.touched"
              class="text-danger"
            >
              Tyre model is required
            </p>
          </div>
        </div>

        <div class="col-6" *ngIf="isTyreMakeModelNotAvailable">
          <div class="form-group">
            <label for="tyreModel" class="form-label">
              Tyre Model <span class="text-danger">*</span>
            </label>
            <input
              #tyreModel="ngModel"
              class="form-control {{
                tyreModel.invalid && (tyreModel.dirty || tyreModel.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreModel"
              [(ngModel)]="newTyre.tyreModel"
              name="tyreModel"
              required
            />
            <p
              *ngIf="tyreModel.invalid && tyreModel.touched"
              class="text-danger"
            >
              Tyre model is required
            </p>
          </div>
        </div>

        <div class="col-12">
          <div class="form-check">
            <label class="form-label" for="flexCheckDefault">
              Can't find tyre make/model?
            </label>
            <input
              #isTyreMakeModelAvailable="ngModel"
              name="isTyreMakeModelAvailable"
              id="isTyreMakeModelAvailable"
              class="form-check-input"
              [(ngModel)]="isTyreMakeModelNotAvailable"
              type="checkbox"
              value="0"
            />
          </div>
        </div>

        <!-- Tyre Type -->
        <div class="col-6">
          <div class="form-group">
            <label for="tyreType" class="form-label">
              Tyre Type <span class="text-danger">*</span>
            </label>
            <select
              #tyreType="ngModel"
              class="form-select {{
                tyreType.invalid && (tyreType.dirty || tyreType.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreType"
              [(ngModel)]="newTyre.tyreType"
              name="tyreType"
              required
            >
              <option value="" disabled selected>Select a Tyre Type</option>
              <option *ngFor="let type of tyreTypes" [value]="type">
                {{ type }}
              </option>
            </select>
            <p *ngIf="tyreType.invalid && tyreType.touched" class="text-danger">
              Tyre type is required
            </p>
          </div>
        </div>

        <!-- Tyre Size -->
        <div class="col-6">
          <div class="form-group">
            <label for="tyreSize" class="form-label">
              Tyre Size <span class="text-danger">*</span>
            </label>
            <select
              #tyreSize="ngModel"
              class="form-select {{
                tyreSize.invalid && (tyreSize.dirty || tyreSize.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="tyreSize"
              [(ngModel)]="newTyre.tyreSize"
              name="tyreSize"
              required
            >
              <option value="" disabled selected>Select a Tyre Size</option>
              <option *ngFor="let size of tyreSizes" [value]="size">
                {{ size }}
              </option>
            </select>
            <p *ngIf="tyreSize.invalid && tyreSize.touched" class="text-danger">
              Tyre size is required
            </p>
          </div>
        </div>

        <!-- Cost -->
        <div class="col-6">
          <div class="form-group">
            <label for="cost" class="form-label">
              Cost <span class="text-danger">*</span>
            </label>
            <div class="input-group">
              <span class="input-group-text"></span>
              <input
                type="number"
                class="form-control {{
                  cost.invalid && (cost.dirty || cost.touched)
                    ? 'is-invalid'
                    : ''
                }}"
                id="cost"
                [(ngModel)]="newTyre.cost"
                name="cost"
                required
                #cost="ngModel"
              />
            </div>
            <p *ngIf="cost.invalid && cost.touched" class="text-danger">
              Cost is required
            </p>
          </div>
        </div>

        <!-- Fitment Date -->
        <div class="col-6">
          <div class="form-group">
            <label for="fitmentDate" class="form-label">
              Fitment Date <span class="text-danger">*</span>
            </label>
            <input
              type="date"
              class="form-control {{
                fitmentDate.invalid &&
                (fitmentDate.dirty || fitmentDate.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="fitmentDate"
              [(ngModel)]="newTyre.fitmentDate"
              name="fitmentDate"
              required
              #fitmentDate="ngModel"
            />
            <p
              *ngIf="fitmentDate.invalid && fitmentDate.touched"
              class="text-danger"
            >
              Fitment date is required
            </p>
          </div>
        </div>

        <!-- Vendor Name -->
        <div class="col-6">
          <div class="form-group">
            <label for="vendorName" class="form-label"
              >Vendor Name <span class="text-danger">*</span></label
            >
            <p-dropdown
              #vendorId="ngModel"
              name="vendorId"
              id="vendorName"
              [options]="vendors"
              appendTo="body"
              optionLabel="name"
              optionValue="id"
              [virtualScroll]="true"
              [virtualScrollItemSize]="30"
              [(ngModel)]="newTyre.vendorId"
              [resetFilterOnHide]="true"
              [filter]="true"
              placeholder="Select Vendor Name"
              required
            >
            </p-dropdown>
            <p *ngIf="vendorId.invalid && vendorId.touched" class="text-danger">
              Vendor name is required
            </p>
          </div>
        </div>

        <!-- Serial Number -->
        <div class="col-6">
          <div class="form-group">
            <label for="serialNumber" class="form-label">
              Serial Number <span class="text-danger">*</span>
            </label>
            <input
              #serialNumber="ngModel"
              type="text"
              class="form-control {{
                serialNumber.invalid &&
                (serialNumber.dirty || serialNumber.touched)
                  ? 'is-invalid'
                  : ''
              }}"
              id="serialNumber"
              [(ngModel)]="newTyre.serialNumber"
              name="serialNumber"
              required
            />
            <p
              *ngIf="serialNumber.invalid && serialNumber.touched"
              class="text-danger"
            >
              Serial number is required
            </p>
          </div>
        </div>
      </div>
    </ng-template>

    <ng-template pTemplate="footer">
      <button
        pButton
        pRipple
        type="button"
        label="Cancel"
        icon="pi pi-times"
        class="p-button-text"
        (click)="toggleAddTyreDialog()"
      ></button>
      <button
        pButton
        [disabled]="tyreForm.invalid"
        pRipple
        label="Add Tyre"
        icon="pi pi-check-circle"
        iconPos="right"
        class="p-button-text"
        type="submit"
      ></button>
    </ng-template>
  </p-dialog>
</form>

<app-loader *ngIf="showLoader"></app-loader>
